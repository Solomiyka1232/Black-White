<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <title>Black&White FAMILY ‚Äî UA ONLINE</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet" />
  <style>
    /* ==================== CUSTOM PROPERTIES ==================== */
    :root {
      --blue-neon: #1a8aff;
      --blue-glow: #2e7ad4;
      --blue-deep: #1060c0;
      --blue-soft: #3080cc;
      --blue-light: #4a9aee;
      --black-deep: #080a0f;
      --black-card: #0e1118;
      --black-surface: #141820;
      --text-heading: #ccd6e8;
      --text-body: #8898b0;
      --text-muted: #556078;
    }

    /* ==================== RESET & BASE ==================== */
    *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
    * { -webkit-tap-highlight-color: transparent; }
    html { scroll-behavior: smooth; }
    body {
      background: var(--black-deep);
      color: #fff;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.5;
    }
    a { text-decoration: none; color: inherit; }
    button { cursor: pointer; border: none; font-family: inherit; }

    /* ==================== SCROLLBAR ==================== */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-track { background: var(--black-deep); }
    ::-webkit-scrollbar-thumb { background: var(--blue-neon); border-radius: 3px; }

    /* ==================== UTILITY ==================== */
    .hidden { display: none !important; }
    .opacity-0 { opacity: 0; }
    .text-center { text-align: center; }

    /* ==================== PARTICLES ==================== */
    .particle {
      position: absolute;
      width: 3px; height: 3px;
      background: var(--blue-neon);
      border-radius: 50%;
      opacity: 0;
      pointer-events: none;
      animation: particleFloat 6s infinite ease-in-out;
    }
    @keyframes particleFloat {
      0% { opacity: 0; transform: translateY(0) scale(0); }
      20% { opacity: 0.8; }
      50% { opacity: 0.4; transform: translateY(-120px) scale(1); }
      100% { opacity: 0; transform: translateY(-250px) scale(0.3); }
    }

    /* ==================== GLITCH TEXT ==================== */
    .glitch-text {
      position: relative;
      animation: glitchShake 5s infinite;
    }
    .glitch-text::before, .glitch-text::after {
      content: attr(data-text);
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    .glitch-text::before {
      color: rgba(40, 80, 200, 0.4);
      animation: glitchBefore 4s infinite;
      clip-path: polygon(0 0, 100% 0, 100% 45%, 0 45%);
    }
    .glitch-text::after {
      color: rgba(70, 120, 180, 0.3);
      animation: glitchAfter 4s infinite;
      clip-path: polygon(0 55%, 100% 55%, 100% 100%, 0 100%);
    }
    @keyframes glitchShake {
      0%, 100% { transform: translate(0); }
      2% { transform: translate(-1px, 0.5px); }
      4% { transform: translate(1px, -0.5px); }
      6% { transform: translate(0); }
      50% { transform: translate(0); }
      52% { transform: translate(1.5px, -1px); }
      54% { transform: translate(-1.5px, 1px); }
      56% { transform: translate(0); }
    }
    @keyframes glitchBefore {
      0%, 100% { transform: translate(0); opacity: 0; }
      10% { transform: translate(-2px, 0); opacity: 0.5; }
      12% { transform: translate(0); opacity: 0; }
      50% { transform: translate(0); opacity: 0; }
      60% { transform: translate(1px, 0); opacity: 0.4; }
      62% { transform: translate(0); opacity: 0; }
    }
    @keyframes glitchAfter {
      0%, 100% { transform: translate(0); opacity: 0; }
      15% { transform: translate(2px, 0); opacity: 0.4; }
      17% { transform: translate(0); opacity: 0; }
      55% { transform: translate(0); opacity: 0; }
      65% { transform: translate(-1px, 0); opacity: 0.4; }
      67% { transform: translate(0); opacity: 0; }
    }

    /* ==================== NEON GLOW ==================== */
    .neon-glow {
      text-shadow:
        0 0 8px rgba(26, 138, 255, 0.35),
        0 0 20px rgba(26, 138, 255, 0.15),
        0 0 40px rgba(16, 96, 192, 0.08);
      animation: neonPulse 3s ease-in-out infinite alternate;
    }
    @keyframes neonPulse {
      from { text-shadow: 0 0 8px rgba(26,138,255,0.35), 0 0 20px rgba(26,138,255,0.15); }
      to { text-shadow: 0 0 12px rgba(26,138,255,0.45), 0 0 30px rgba(26,138,255,0.2), 0 0 50px rgba(16,96,192,0.1); }
    }

    /* ==================== WELCOME REVEAL ==================== */
    .welcome-mask-reveal {
      animation: maskReveal 1.8s cubic-bezier(0.65, 0, 0.35, 1) forwards;
    }
    @keyframes maskReveal {
      0% { clip-path: circle(0% at 50% 50%); opacity: 0; }
      30% { opacity: 1; }
      100% { clip-path: circle(80% at 50% 50%); opacity: 1; }
    }
    .welcome-title-reveal {
      opacity: 0;
      transform: scale(0.6) translateY(20px);
      filter: blur(15px);
      animation: titleReveal 1.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    @keyframes titleReveal {
      0% { opacity: 0; transform: scale(0.6) translateY(20px); filter: blur(15px); }
      60% { filter: blur(0px); }
      100% { opacity: 1; transform: scale(1) translateY(0); filter: blur(0px); }
    }
    .welcome-line-expand {
      transform: scaleX(0);
      animation: lineExpand 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    @keyframes lineExpand { to { transform: scaleX(1); } }
    .welcome-fade-up {
      opacity: 0;
      transform: translateY(30px);
      animation: welcomeFadeUp 1s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    @keyframes welcomeFadeUp { to { opacity: 1; transform: translateY(0); } }
    .letter-spread {
      animation: letterSpread 1.5s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
    @keyframes letterSpread {
      0% { letter-spacing: -0.05em; opacity: 0; }
      100% { letter-spacing: 0.6em; opacity: 0.7; }
    }

    /* ==================== HOME PAGE ENTRANCE ==================== */
    .home-hero-enter { animation: heroReveal 1.2s cubic-bezier(0.22, 1, 0.36, 1) forwards; }
    @keyframes heroReveal {
      0% { opacity: 0; clip-path: inset(100% 0 0 0); }
      100% { opacity: 1; clip-path: inset(0 0 0 0); }
    }
    .home-stagger-1 { opacity: 0; transform: translateX(-40px); animation: staggerSlideRight 0.8s cubic-bezier(0.16,1,0.3,1) 0.3s forwards; }
    .home-stagger-2 { opacity: 0; transform: translateX(40px); animation: staggerSlideLeft 0.8s cubic-bezier(0.16,1,0.3,1) 0.5s forwards; }
    .home-stagger-3 { opacity: 0; transform: translateY(50px) scale(0.9); animation: staggerRise 0.9s cubic-bezier(0.16,1,0.3,1) 0.7s forwards; }
    @keyframes staggerSlideRight { to { opacity: 1; transform: translateX(0); } }
    @keyframes staggerSlideLeft { to { opacity: 1; transform: translateX(0); } }
    @keyframes staggerRise { to { opacity: 1; transform: translateY(0) scale(1); } }
    .card-cascade {
      opacity: 0;
      transform: perspective(800px) rotateY(8deg) translateX(-30px);
      animation: cardCascade 0.7s cubic-bezier(0.16,1,0.3,1) forwards;
    }
    @keyframes cardCascade { to { opacity: 1; transform: perspective(800px) rotateY(0deg) translateX(0); } }
    .cta-reveal {
      opacity: 0; transform: scale(0.85); filter: blur(8px);
      animation: ctaReveal 1s cubic-bezier(0.16,1,0.3,1) forwards;
    }
    @keyframes ctaReveal { to { opacity: 1; transform: scale(1); filter: blur(0); } }
    .fade-in-up {
      opacity: 0; transform: translateY(40px);
      animation: fadeInUp 0.8s ease-out forwards;
    }
    @keyframes fadeInUp { to { opacity: 1; transform: translateY(0); } }

    /* ==================== BG ELEMENTS ==================== */
    .bg-grid {
      background-image:
        linear-gradient(rgba(26,138,255,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(26,138,255,0.03) 1px, transparent 1px);
      background-size: 60px 60px;
    }
    .ambient-orb {
      position: absolute;
      border-radius: 50%;
      pointer-events: none;
      filter: blur(80px);
      opacity: 0.04;
      animation: orbFloat 10s ease-in-out infinite alternate;
    }
    @keyframes orbFloat {
      0% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(30px, -20px) scale(1.2); }
      100% { transform: translate(-20px, 30px) scale(0.9); }
    }
    .scanlines {
      position: absolute; inset: 0;
      pointer-events: none;
      background: repeating-linear-gradient(0deg, transparent, transparent 2px, rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px);
      animation: scanMove 8s linear infinite;
    }
    @keyframes scanMove { 0% { transform: translateY(0); } 100% { transform: translateY(8px); } }
    .smoke-layer {
      position: absolute; inset: 0;
      background:
        radial-gradient(ellipse at 20% 80%, rgba(26,138,255,0.05) 0%, transparent 50%),
        radial-gradient(ellipse at 80% 20%, rgba(26,138,255,0.03) 0%, transparent 50%);
      pointer-events: none;
      animation: smokeFloat 8s ease-in-out infinite alternate;
    }
    @keyframes smokeFloat {
      0% { opacity: 0.5; transform: translate(0, 0); }
      100% { opacity: 1; transform: translate(-10px, -10px); }
    }

    /* ==================== BUTTONS ==================== */
    .btn-glow {
      position: relative; overflow: hidden;
      transition: all 0.3s ease;
      box-shadow: 0 0 12px rgba(26,138,255,0.2);
    }
    .btn-glow:hover {
      box-shadow: 0 0 16px rgba(26,138,255,0.35), 0 0 32px rgba(26,138,255,0.15);
      transform: translateY(-2px);
    }
    .btn-glow:active { transform: scale(0.95); }
    .btn-glow::before {
      content: '';
      position: absolute; top: -50%; left: -50%;
      width: 200%; height: 200%;
      background: radial-gradient(circle, rgba(26,138,255,0.08) 0%, transparent 70%);
      animation: btnPulseGlow 3s ease-in-out infinite;
    }
    @keyframes btnPulseGlow {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.05); opacity: 0.5; }
    }
    .tg-button {
      background: linear-gradient(135deg, var(--blue-neon), var(--blue-deep));
      transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
      box-shadow: 0 4px 16px rgba(26,138,255,0.2);
    }
    .tg-button:hover {
      box-shadow: 0 6px 24px rgba(26,138,255,0.35);
      transform: translateY(-3px) scale(1.02);
    }
    .tg-button:active { transform: scale(0.97); }

    /* ==================== FEATURE CARDS ==================== */
    .feature-card {
      background: linear-gradient(135deg, #0e1118 0%, #141820 100%);
      border: 1px solid rgba(26,138,255,0.07);
      transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
      border-radius: 12px;
      padding: 24px;
    }
    .feature-card:hover {
      border-color: rgba(26,138,255,0.3);
      box-shadow: 0 8px 32px rgba(26,138,255,0.08);
      transform: translateY(-4px);
    }
    .icon-wrap {
      width: 48px; height: 48px;
      display: flex; align-items: center; justify-content: center;
      flex-shrink: 0;
      border-radius: 50%;
      background: radial-gradient(circle, rgba(26,138,255,0.08) 0%, transparent 70%);
      border: 1.5px solid rgba(26,138,255,0.18);
      color: #4a80b4;
      box-shadow: 0 0 20px rgba(26,138,255,0.06);
      transition: all 0.4s cubic-bezier(0.4,0,0.2,1);
    }
    .feature-card:hover .icon-wrap {
      color: var(--blue-neon);
      border-color: rgba(26,138,255,0.45) !important;
      box-shadow: 0 0 18px rgba(26,138,255,0.2), inset 0 0 12px rgba(26,138,255,0.06) !important;
      transform: scale(1.1) rotate(5deg);
      background: radial-gradient(circle, rgba(26,138,255,0.14) 0%, transparent 70%) !important;
    }

    /* ==================== CROWN ==================== */
    .crown-icon {
      color: var(--blue-neon);
      filter: drop-shadow(0 0 6px rgba(26,138,255,0.3));
      animation: crownFloat 3s ease-in-out infinite;
    }
    @keyframes crownFloat {
      0%, 100% { transform: translateY(0) rotate(0deg); }
      50% { transform: translateY(-6px) rotate(2deg); }
    }

    /* ==================== FLASH ==================== */
    .flash-overlay {
      position: fixed; top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: white;
      pointer-events: none;
      z-index: 9999;
      opacity: 0;
      animation: flashBang 0.3s ease-out forwards;
    }
    @keyframes flashBang { 0% { opacity: 0.9; } 100% { opacity: 0; } }

    /* ==================== SOUND TOGGLE ==================== */
    .sound-toggle {
      position: fixed; top: 16px; right: 16px; z-index: 100;
      background: rgba(14,17,24,0.9);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(26,138,255,0.15);
      border-radius: 50%;
      width: 44px; height: 44px;
      display: flex; align-items: center; justify-content: center;
      cursor: pointer; transition: all 0.3s ease;
      color: #4a80b4;
    }
    .sound-toggle:hover {
      border-color: rgba(26,138,255,0.4);
      box-shadow: 0 0 12px rgba(26,138,255,0.15);
    }

    /* ==================== CINEMA BARS ==================== */
    .cinema-enter { animation: cinemaIn 1s ease-out forwards; }
    @keyframes cinemaIn {
      0% { clip-path: inset(50% 0); }
      100% { clip-path: inset(0 0); }
    }

    /* ==================== PULSE RING ==================== */
    .pulse-ring {
      position: absolute; border-radius: 50%;
      border: 1px solid rgba(26,138,255,0.15);
      animation: pulseRing 3s ease-out infinite;
    }
    @keyframes pulseRing {
      0% { transform: scale(0.8); opacity: 0.4; }
      100% { transform: scale(2.5); opacity: 0; }
    }

    /* ==================== PAGE CONTAINERS ==================== */
    #welcome-screen {
      position: fixed; inset: 0; z-index: 50;
      display: flex; flex-direction: column;
      align-items: center; justify-content: center;
      overflow: hidden;
      background: var(--black-deep);
      transition: opacity 0.9s ease, transform 0.9s ease;
    }
    #welcome-screen.exiting { opacity: 0; transform: scale(1.05); }

    #home-page {
      min-height: 100vh;
      transition: opacity 0.7s ease;
    }

    #join-page {
      min-height: 100vh;
      display: flex; flex-direction: column;
      background: var(--black-deep);
      transition: opacity 0.7s ease;
    }

    /* ==================== B&W LOGO SPECIAL ==================== */
    .bw-black { color: #ccd6e8; }
    .bw-amp { color: #556078; }
    .bw-white { color: var(--blue-neon); }

    /* ==================== DIAGONAL STRIPE BG ==================== */
    .diagonal-stripes {
      position: absolute; inset: 0;
      pointer-events: none;
      background: repeating-linear-gradient(
        -45deg,
        transparent,
        transparent 80px,
        rgba(26,138,255,0.015) 80px,
        rgba(26,138,255,0.015) 82px
      );
    }

    /* ==================== RESPONSIVE ==================== */
    @media (max-width: 640px) {
      .welcome-title { font-size: 2.2rem !important; }
      .welcome-family { font-size: 1.3rem !important; }
      .hero-title { font-size: 2rem !important; }
      .features-grid { grid-template-columns: 1fr !important; }
      .cta-box { padding: 40px 24px !important; }
      .cta-title { font-size: 1.5rem !important; }
      .join-title { font-size: 1.75rem !important; }
    }
    @media (min-width: 641px) and (max-width: 1023px) {
      .features-grid { grid-template-columns: 1fr 1fr !important; }
    }
    @media (min-width: 1024px) {
      .features-grid { grid-template-columns: 1fr 1fr 1fr !important; }
    }
  </style>
</head>
<body>

<!-- ============================================================ -->
<!-- WELCOME SCREEN                                                 -->
<!-- ============================================================ -->
<div id="welcome-screen">
  <!-- Ambient Orbs -->
  <div class="ambient-orb" style="width:500px;height:500px;background:#1a8aff;top:20%;left:30%;"></div>
  <div class="ambient-orb" style="width:400px;height:400px;background:#1060c0;bottom:10%;right:20%;animation-delay:3s;"></div>
  <div class="ambient-orb" style="width:300px;height:300px;background:#4a9aee;top:60%;left:60%;animation-delay:6s;"></div>
  <!-- Scanlines -->
  <div class="scanlines"></div>
  <!-- Grid -->
  <div class="bg-grid" style="position:absolute;inset:0;opacity:0.6;"></div>
  <!-- Diagonal stripes -->
  <div class="diagonal-stripes"></div>
  <!-- Vignette -->
  <div style="position:absolute;inset:0;box-shadow:inset 0 0 200px rgba(0,0,0,0.9);pointer-events:none;"></div>
  <!-- Particles container -->
  <div id="welcome-particles" style="position:absolute;inset:0;pointer-events:none;"></div>

  <!-- Main content ‚Äî circle reveal -->
  <div id="welcome-content" class="opacity-0" style="position:relative;z-index:10;padding:0 24px;text-align:center;">
    <!-- "–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç" -->
    <div id="welcome-subtitle" class="opacity-0" style="margin-bottom:24px;color:#556078;">
      <span style="font-size:0.75rem;font-weight:300;text-transform:uppercase;letter-spacing:0.1em;">–í–∞—Å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç</span>
    </div>
    <!-- Black&White -->
    <h1 id="welcome-main-title" class="glitch-text neon-glow welcome-title opacity-0"
        data-text="Black&White"
        style="color:var(--blue-neon);font-size:4rem;font-weight:900;letter-spacing:0.03em;">
      <span class="bw-black">Black</span><span class="bw-amp">&</span><span class="bw-white">White</span>
    </h1>
    <!-- FAMILY -->
    <div id="welcome-family" class="welcome-family opacity-0"
         style="margin-top:12px;font-size:2rem;font-weight:700;letter-spacing:0.5em;color:#ccd6e8;">
      FAMILY
    </div>
    <!-- Divider -->
    <div id="welcome-divider" class="opacity-0"
         style="margin:32px auto 0;height:1px;width:192px;background:linear-gradient(90deg,transparent,rgba(26,138,255,0.4),transparent);transform:scaleX(0);"></div>
    <!-- Tagline -->
    <p id="welcome-tagline" class="opacity-0"
       style="margin-top:24px;font-size:0.75rem;letter-spacing:0.25em;text-transform:uppercase;color:#556078;">
      –≠–ª–∏—Ç–Ω–æ–µ –±—Ä–∞—Ç—Å—Ç–≤–æ ‚Ä¢ UA ONLINE
    </p>
    <!-- Enter button -->
    <button id="welcome-enter-btn" class="btn-glow opacity-0"
            onclick="enterSite()"
            style="margin-top:56px;border-radius:6px;border:1px solid rgba(26,138,255,0.25);background:linear-gradient(135deg,rgba(26,138,255,0.08) 0%,rgba(26,138,255,0.03) 100%);color:#6aa0d4;padding:16px 48px;font-size:0.875rem;font-weight:600;text-transform:uppercase;letter-spacing:0.25em;">
      <span style="position:relative;z-index:10;display:inline-flex;align-items:center;gap:12px;">
        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
          <polyline points="10 17 15 12 10 7"/>
          <line x1="15" y1="12" x2="3" y2="12"/>
        </svg>
        –í–æ–π—Ç–∏
      </span>
    </button>
  </div>
</div>


<!-- ============================================================ -->
<!-- HOME PAGE                                                      -->
<!-- ============================================================ -->
<div id="home-page" class="hidden" style="opacity:0;">
  <!-- Sound Toggle -->
  <button id="sound-toggle" class="sound-toggle" onclick="toggleSound()" aria-label="Toggle sound">
    <svg id="sound-on-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
      <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
      <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
    </svg>
    <svg id="sound-off-icon" class="hidden" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
      <line x1="23" y1="9" x2="17" y2="15"/>
      <line x1="17" y1="9" x2="23" y2="15"/>
    </svg>
  </button>

  <!-- Hero Section -->
  <section style="position:relative;display:flex;min-height:60vh;align-items:center;justify-content:center;overflow:hidden;padding:80px 16px;">
    <div class="bg-grid" style="position:absolute;inset:0;opacity:0.6;"></div>
    <div class="diagonal-stripes"></div>
    <div class="ambient-orb" style="width:400px;height:400px;background:#1a8aff;top:10%;right:20%;"></div>
    <div class="ambient-orb" style="width:300px;height:300px;background:#1060c0;bottom:20%;left:10%;animation-delay:4s;"></div>
    <div style="position:absolute;inset:0;box-shadow:inset 0 0 200px rgba(0,0,0,0.85);pointer-events:none;"></div>

    <div class="home-hero-enter" style="position:relative;z-index:10;max-width:56rem;margin:0 auto;text-align:center;">
      <!-- Badge -->
      <div class="home-stagger-1" style="margin-bottom:24px;display:inline-flex;align-items:center;gap:8px;border-radius:9999px;border:1px solid rgba(26,138,255,0.15);background:rgba(26,138,255,0.04);padding:8px 20px;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.3em;color:#4a80b4;">
        <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
          <polyline points="9 12 11 14 15 10"/>
        </svg>
        UA ONLINE
      </div>
      <!-- Title -->
      <h1 class="home-stagger-2 hero-title" style="margin-bottom:16px;font-size:3.5rem;font-weight:900;letter-spacing:-0.02em;">
        <span class="bw-black">Black</span><span style="color:#556078;">&</span><span class="bw-white">White</span>
        <span style="color:#ccd6e8;"> FAMILY</span>
      </h1>
      <!-- Divider -->
      <div class="home-stagger-3" style="margin:0 auto 32px;height:1px;width:96px;background:linear-gradient(90deg,transparent,rgba(26,138,255,0.35),transparent);"></div>
      <!-- Subtitle -->
      <p class="home-stagger-3" style="max-width:40rem;margin:0 auto;font-size:1.1rem;line-height:1.7;color:#8898b0;">
        –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–µ–º—å—è. <span style="font-weight:600;color:#b0c0d8;">–≠—Ç–æ —ç–ª–∏—Ç–Ω–æ–µ –±—Ä–∞—Ç—Å—Ç–≤–æ</span>, –≥–¥–µ —É–≤–∞–∂–∞—é—Ç —Å–∏–ª—É –∏ –≤–µ—Ä–Ω–æ—Å—Ç—å. –ö–∞–∂–¥—ã–π –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.
      </p>
    </div>
  </section>

  <!-- Leader Section -->
  <section style="position:relative;padding:64px 16px;">
    <div style="max-width:56rem;margin:0 auto;">
      <div class="fade-in-up" style="max-width:28rem;margin:0 auto;overflow:hidden;border-radius:12px;padding:32px;text-align:center;background:linear-gradient(135deg,#0e1118 0%,#141820 100%);border:1px solid rgba(26,138,255,0.1);position:relative;animation-delay:0.2s;">
        <!-- Glow behind -->
        <div style="position:absolute;top:-40px;left:50%;transform:translateX(-50%);height:80px;width:160px;background:radial-gradient(ellipse,rgba(26,138,255,0.08) 0%,transparent 70%);pointer-events:none;"></div>
        <div style="position:relative;z-index:10;">
          <!-- Crown Icon -->
          <div class="crown-icon" style="margin:0 auto 16px;display:flex;justify-content:center;">
            <svg width="44" height="44" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14"/>
            </svg>
          </div>
          <p style="margin-bottom:4px;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.3em;color:#556078;">–ù–∞—à –ª–∏–¥–µ—Ä</p>
          <h2 style="font-size:1.75rem;font-weight:900;color:var(--blue-neon);">Maksym_Kukhta</h2>
        </div>
      </div>
    </div>
  </section>

  <!-- Features Section -->
  <section id="features-section" style="position:relative;padding:64px 16px;">
    <div style="max-width:64rem;margin:0 auto;">
      <div style="margin-bottom:48px;text-align:center;">
        <h2 style="margin-bottom:12px;font-size:1.75rem;font-weight:700;color:#ccd6e8;">
          –ß—Ç–æ —Ç—ã <span style="color:var(--blue-neon);">–ø–æ–ª—É—á–∞–µ—à—å</span>
        </h2>
        <p style="font-size:0.875rem;color:#556078;">–í—Å—Ç—É–ø–∞—è –≤ —Å–µ–º—å—é Black&White</p>
      </div>

      <div id="features-grid" class="features-grid" style="display:grid;gap:16px;">
        <!-- Feature 1 ‚Äî Banknote -->
        <div class="feature-card opacity-0" data-card-index="0">
          <div style="margin-bottom:16px;display:flex;align-items:center;gap:16px;">
            <div class="icon-wrap">
              <svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <rect width="20" height="12" x="2" y="6" rx="2"/>
                <circle cx="12" cy="12" r="2"/>
                <path d="M6 12h.01M18 12h.01"/>
              </svg>
            </div>
            <h3 style="font-size:1rem;font-weight:700;color:#b0c0d8;">–í—ã—Å–æ–∫–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞</h3>
          </div>
          <p style="font-size:0.875rem;line-height:1.6;color:#6a7a90;">–°—Ç–∞–±–∏–ª—å–Ω—ã–π –∏ –¥–æ—Å—Ç–æ–π–Ω—ã–π –¥–æ—Ö–æ–¥ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —á–ª–µ–Ω–∞ —Å–µ–º—å–∏</p>
        </div>

        <!-- Feature 2 ‚Äî Handshake -->
        <div class="feature-card opacity-0" data-card-index="1">
          <div style="margin-bottom:16px;display:flex;align-items:center;gap:16px;">
            <div class="icon-wrap">
              <svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="m11 17 2 2a1 1 0 1 0 3-3"/>
                <path d="m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4"/>
                <path d="m21 3 1 11h-2"/>
                <path d="M3 3 2 14h2"/>
                <path d="m7 4 3.22 3.22"/>
                <path d="m8 16 1.5 1.5"/>
              </svg>
            </div>
            <h3 style="font-size:1rem;font-weight:700;color:#b0c0d8;">–°–∏–ª—å–Ω—ã–π –∫–æ–ª–ª–µ–∫—Ç–∏–≤</h3>
          </div>
          <p style="font-size:0.875rem;line-height:1.6;color:#6a7a90;">–°–ø–ª–æ—á—ë–Ω–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞, –≥–æ—Ç–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∞—Ç—å –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç</p>
        </div>

        <!-- Feature 3 ‚Äî Warehouse/Building -->
        <div class="feature-card opacity-0" data-card-index="2">
          <div style="margin-bottom:16px;display:flex;align-items:center;gap:16px;">
            <div class="icon-wrap">
              <svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M22 8.35V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8.35A2 2 0 0 1 3.26 6.5l8-3.2a2 2 0 0 1 1.48 0l8 3.2A2 2 0 0 1 22 8.35Z"/>
                <path d="M6 18h12"/><path d="M6 14h12"/><path d="M6 10h12"/>
              </svg>
            </div>
            <h3 style="font-size:1rem;font-weight:700;color:#b0c0d8;">–ù–∞–¥—ë–∂–Ω–∞—è –∫—Ä—ã—à–∞</h3>
          </div>
          <p style="font-size:0.875rem;line-height:1.6;color:#6a7a90;">–ü–æ–ª–Ω–∞—è –∑–∞—â–∏—Ç–∞ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–∞–∂–¥–æ–≥–æ –∏–∑ –Ω–∞—à–∏—Ö</p>
        </div>

        <!-- Feature 4 ‚Äî Gauge/Speed -->
        <div class="feature-card opacity-0" data-card-index="3">
          <div style="margin-bottom:16px;display:flex;align-items:center;gap:16px;">
            <div class="icon-wrap">
              <svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="m12 14 4-4"/>
                <path d="M3.34 19a10 10 0 1 1 17.32 0"/>
              </svg>
            </div>
            <h3 style="font-size:1rem;font-weight:700;color:#b0c0d8;">–†–æ—Å–∫–æ—à–Ω—ã–π –∞–≤—Ç–æ–ø–∞—Ä–∫</h3>
          </div>
          <p style="font-size:0.875rem;line-height:1.6;color:#6a7a90;">–¢–æ–ª—å–∫–æ –ª—É—á—à–∏–µ –º–∞—à–∏–Ω—ã –¥–ª—è —á–ª–µ–Ω–æ–≤ —Å–µ–º—å–∏</p>
        </div>

        <!-- Feature 5 ‚Äî Flame -->
        <div class="feature-card opacity-0" data-card-index="4">
          <div style="margin-bottom:16px;display:flex;align-items:center;gap:16px;">
            <div class="icon-wrap">
              <svg width="21" height="21" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/>
              </svg>
            </div>
            <h3 style="font-size:1rem;font-weight:700;color:#b0c0d8;">–°—Ç–∞—Ç—É—Å –∏ –∑–∞—â–∏—Ç–∞</h3>
          </div>
          <p style="font-size:0.875rem;line-height:1.6;color:#6a7a90;">–£–≤–∞–∂–µ–Ω–∏–µ, –≤–ª–∏—è–Ω–∏–µ –∏ –Ω–µ–ø—Ä–æ–±–∏–≤–∞–µ–º–∞—è –æ–±–æ—Ä–æ–Ω–∞</p>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section id="cta-section" style="position:relative;padding:80px 16px;">
    <div id="cta-box" class="cta-box opacity-0" style="position:relative;max-width:40rem;margin:0 auto;overflow:hidden;border-radius:16px;padding:56px;text-align:center;background:linear-gradient(135deg,#0e1118 0%,#121620 100%);border:1px solid rgba(26,138,255,0.1);">
      <!-- Corner accents -->
      <div style="position:absolute;left:0;top:0;height:48px;width:1px;background:linear-gradient(180deg,rgba(26,138,255,0.5),transparent);"></div>
      <div style="position:absolute;left:0;top:0;height:1px;width:48px;background:linear-gradient(90deg,rgba(26,138,255,0.5),transparent);"></div>
      <div style="position:absolute;bottom:0;right:0;height:48px;width:1px;background:linear-gradient(0deg,rgba(26,138,255,0.5),transparent);"></div>
      <div style="position:absolute;bottom:0;right:0;height:1px;width:48px;background:linear-gradient(270deg,rgba(26,138,255,0.5),transparent);"></div>

      <h2 class="cta-title" style="margin-bottom:16px;font-size:2rem;font-weight:900;color:#ccd6e8;">
        –ì–æ—Ç–æ–≤ <span style="color:var(--blue-neon);">–≤—Å—Ç—É–ø–∏—Ç—å</span>?
      </h2>
      <p style="margin-bottom:32px;font-size:0.875rem;color:#6a7a90;">
        –°—Ç–∞–Ω—å —á–∞—Å—Ç—å—é —ç–ª–∏—Ç–Ω–æ–≥–æ –±—Ä–∞—Ç—Å—Ç–≤–∞ Black&White FAMILY
      </p>
      <button id="join-btn" onclick="handleJoinClick()" class="btn-glow"
              style="display:inline-flex;align-items:center;gap:12px;border-radius:8px;padding:20px 56px;font-size:0.9rem;font-weight:700;text-transform:uppercase;letter-spacing:0.2em;color:white;background:linear-gradient(135deg,#1a8aff,#1060c0);border:none;">
        <span>–ü–µ—Ä–µ–π—Ç–∏ –≤ —á–∞—Ç</span>
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="transition:transform 0.3s;">
          <line x1="5" y1="12" x2="19" y2="12"/>
          <polyline points="12 5 19 12 12 19"/>
        </svg>
      </button>
    </div>
  </section>

  <!-- Footer -->
  <footer style="border-top:1px solid rgba(26,138,255,0.07);padding:32px 16px;text-align:center;">
    <p style="font-size:0.75rem;letter-spacing:0.2em;color:#2a3040;">¬© 2024 Black&White FAMILY ‚Äî UA ONLINE</p>
  </footer>
</div>


<!-- ============================================================ -->
<!-- JOIN PAGE                                                      -->
<!-- ============================================================ -->
<div id="join-page" class="hidden" style="opacity:0;">
  <!-- BG layers -->
  <div class="bg-grid" style="position:fixed;inset:0;pointer-events:none;opacity:0.6;"></div>
  <div class="diagonal-stripes" style="position:fixed;inset:0;pointer-events:none;"></div>
  <div class="scanlines" style="position:fixed;inset:0;pointer-events:none;"></div>
  <div style="position:fixed;inset:0;box-shadow:inset 0 0 200px rgba(0,0,0,0.9);pointer-events:none;"></div>
  <div class="ambient-orb" style="position:fixed;width:450px;height:450px;background:#1a8aff;top:30%;left:40%;"></div>

  <!-- Particles -->
  <div id="join-particles" style="position:fixed;inset:0;pointer-events:none;"></div>

  <!-- Back button -->
  <button onclick="goBackToHome()"
          style="position:fixed;top:16px;left:16px;z-index:50;display:flex;align-items:center;gap:8px;border-radius:9999px;border:1px solid rgba(26,138,255,0.2);background:rgba(14,17,24,0.9);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);color:#6a7a90;padding:8px 16px;font-size:0.75rem;text-transform:uppercase;letter-spacing:0.2em;cursor:pointer;transition:all 0.3s;">
    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <line x1="19" y1="12" x2="5" y2="12"/>
      <polyline points="12 19 5 12 12 5"/>
    </svg>
    –ù–∞–∑–∞–¥
  </button>

  <!-- Main content -->
  <div style="position:relative;z-index:10;flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;padding:80px 24px;">
    <!-- Pulse rings + icons -->
    <div style="position:relative;margin-bottom:32px;display:flex;align-items:center;justify-content:center;">
      <div id="join-rings" style="display:none;">
        <div class="pulse-ring" style="width:80px;height:80px;position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;"></div>
        <div class="pulse-ring" style="width:80px;height:80px;position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;animation-delay:1s;"></div>
        <div class="pulse-ring" style="width:80px;height:80px;position:absolute;top:50%;left:50%;margin-top:-40px;margin-left:-40px;animation-delay:2s;"></div>
      </div>
      <div id="join-icons" style="display:flex;align-items:center;gap:24px;">
        <!-- Crosshair -->
        <svg class="join-icon opacity-0" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#4a80b4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0;transition:all 0.7s;">
          <circle cx="12" cy="12" r="10"/><line x1="22" y1="12" x2="18" y2="12"/><line x1="6" y1="12" x2="2" y2="12"/><line x1="12" y1="6" x2="12" y2="2"/><line x1="12" y1="22" x2="12" y2="18"/>
        </svg>
        <!-- Shield -->
        <svg class="join-icon opacity-0" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#4a80b4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0;transition:all 0.7s 0.1s;">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
        </svg>
        <!-- Skull -->
        <svg class="join-icon crown-icon opacity-0" width="30" height="30" viewBox="0 0 24 24" fill="none" stroke="#1a8aff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0;transition:all 0.7s 0.2s;">
          <circle cx="9" cy="12" r="1"/><circle cx="15" cy="12" r="1"/><path d="M8 20v2h8v-2"/><path d="m12.5 17-.5-1-.5 1h1z"/><path d="M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20"/>
        </svg>
        <!-- Shield 2 -->
        <svg class="join-icon opacity-0" width="26" height="26" viewBox="0 0 24 24" fill="none" stroke="#4a80b4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0;transition:all 0.7s 0.1s;">
          <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/>
        </svg>
        <!-- Crosshair 2 -->
        <svg class="join-icon opacity-0" width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="#4a80b4" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="opacity:0;transition:all 0.7s;">
          <circle cx="12" cy="12" r="10"/><line x1="22" y1="12" x2="18" y2="12"/><line x1="6" y1="12" x2="2" y2="12"/><line x1="12" y1="6" x2="12" y2="2"/><line x1="12" y1="22" x2="12" y2="18"/>
        </svg>
      </div>
    </div>

    <!-- Title -->
    <h1 id="join-title" class="join-title" style="margin-bottom:24px;text-align:center;font-size:2.75rem;font-weight:900;letter-spacing:-0.02em;color:#ccd6e8;opacity:0;transform:translateY(32px);transition:all 1s ease;">
      –¢—ã –≥–æ—Ç–æ–≤ —Å—Ç–∞—Ç—å —á–∞—Å—Ç—å—é<br>
      <span style="color:var(--blue-neon);" class="neon-glow">Black&White FAMILY</span>?
    </h1>

    <!-- Divider -->
    <div id="join-divider" style="margin-bottom:32px;height:1px;width:0;opacity:0;background:linear-gradient(90deg,transparent,rgba(26,138,255,0.35),transparent);transition:all 1s ease;"></div>

    <!-- Subtitle -->
    <p id="join-subtitle" style="margin-bottom:48px;max-width:28rem;text-align:center;font-size:1rem;line-height:1.7;color:#6a7a90;opacity:0;transform:translateY(24px);transition:all 1s ease;">
      –í—Ä–µ–º—è —Å–¥–µ–ª–∞—Ç—å –≤—ã–±–æ—Ä.<br>
      <span style="color:#b0c0d8;font-weight:600;">–û–¥–Ω–æ —Ä–µ—à–µ–Ω–∏–µ ‚Äî –∏ —Ç—ã –≤ –¥–µ–ª–µ.</span>
    </p>

    <!-- ====================================================== -->
    <!-- üëá –°–°–´–õ–ö–ê –ù–ê TELEGRAM –ö–ê–ù–ê–õ Black&White FAMILY üëá       -->
    <!-- ====================================================== -->
    <a id="join-tg-btn" href="https://t.me/sopranos_fam1ly" target="_blank" rel="noopener noreferrer"
       class="tg-button"
       style="display:inline-flex;align-items:center;gap:12px;border-radius:12px;padding:20px 56px;font-size:1rem;font-weight:700;text-transform:uppercase;letter-spacing:0.2em;color:white;opacity:0;transform:translateY(32px) scale(0.95);transition:all 1s ease;">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
      </svg>
      <span>–ü–µ—Ä–µ–π—Ç–∏ –≤ Telegram</span>
    </a>

    <!-- Info -->
    <p id="join-info" style="margin-top:32px;font-size:0.75rem;letter-spacing:0.2em;text-transform:uppercase;color:#556078;opacity:0;transition:all 1s ease 0.5s;">
      –ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Å—è –∫ —ç–ª–∏—Ç–µ
    </p>
  </div>

  <!-- Bottom -->
  <div style="position:relative;z-index:10;padding-bottom:32px;">
    <div style="margin:0 auto 16px;height:1px;width:80px;background:linear-gradient(90deg,transparent,rgba(26,138,255,0.25),transparent);"></div>
    <p style="text-align:center;font-size:0.75rem;letter-spacing:0.2em;color:#1a2030;">Black&White FAMILY ¬© 2024</p>
  </div>
</div>


<!-- ============================================================ -->
<!-- JAVASCRIPT                                                     -->
<!-- ============================================================ -->
<script>
  // ==================== STATE ====================
  var soundEnabled = true;

  // ==================== PARTICLES ====================
  function createParticles(containerId, count) {
    var container = document.getElementById(containerId);
    if (!container) return;
    for (var i = 0; i < count; i++) {
      var p = document.createElement('div');
      p.className = 'particle';
      var size = (1.5 + Math.random() * 2.5) + 'px';
      var opacity = 0.3 + Math.random() * 0.4;
      p.style.left = (Math.random() * 100) + '%';
      p.style.top = (60 + Math.random() * 40) + '%';
      p.style.animationDelay = (Math.random() * 6) + 's';
      p.style.animationDuration = (5 + Math.random() * 5) + 's';
      p.style.width = size;
      p.style.height = size;
      p.style.background = 'rgba(26,138,255,' + opacity + ')';
      container.appendChild(p);
    }
  }

  // ==================== WELCOME SEQUENCE ====================
  createParticles('welcome-particles', 30);

  setTimeout(function() {
    var content = document.getElementById('welcome-content');
    content.classList.remove('opacity-0');
    content.classList.add('welcome-mask-reveal');

    var title = document.getElementById('welcome-main-title');
    title.classList.remove('opacity-0');
    title.classList.add('welcome-title-reveal');
  }, 300);

  setTimeout(function() {
    var sub = document.getElementById('welcome-subtitle');
    sub.classList.remove('opacity-0');
    sub.classList.add('letter-spread');

    var fam = document.getElementById('welcome-family');
    fam.classList.remove('opacity-0');
    fam.classList.add('welcome-fade-up');
    fam.style.animationDelay = '0.2s';
  }, 1200);

  setTimeout(function() {
    var div = document.getElementById('welcome-divider');
    div.classList.remove('opacity-0');
    div.classList.add('welcome-line-expand');

    var tag = document.getElementById('welcome-tagline');
    tag.classList.remove('opacity-0');
    tag.classList.add('welcome-fade-up');
    tag.style.animationDelay = '0.3s';
  }, 2000);

  setTimeout(function() {
    var btn = document.getElementById('welcome-enter-btn');
    btn.classList.remove('opacity-0');
    btn.classList.add('welcome-fade-up');
    btn.style.animationDelay = '0.1s';
  }, 2800);

  // ==================== ENTER SITE ====================
  function enterSite() {
    var welcome = document.getElementById('welcome-screen');
    welcome.classList.add('exiting');
    setTimeout(function() {
      welcome.classList.add('hidden');
      showHomePage();
    }, 900);
  }

  // ==================== SHOW HOME PAGE ====================
  function showHomePage() {
    var home = document.getElementById('home-page');
    home.classList.remove('hidden');
    setTimeout(function() { home.style.opacity = '1'; }, 50);
    initHomeObservers();
  }

  // ==================== HOME OBSERVERS ====================
  function initHomeObservers() {
    var featuresSection = document.getElementById('features-section');
    var ctaBox = document.getElementById('cta-box');
    var cards = document.querySelectorAll('.feature-card');

    var observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          if (entry.target === featuresSection) {
            cards.forEach(function(card, i) {
              card.classList.remove('opacity-0');
              card.classList.add('card-cascade');
              card.style.animationDelay = (0.12 * (i + 1)) + 's';
            });
          }
          if (entry.target.id === 'cta-section') {
            ctaBox.classList.remove('opacity-0');
            ctaBox.classList.add('cta-reveal');
            ctaBox.style.animationDelay = '0.2s';
          }
        }
      });
    }, { threshold: 0.15 });

    if (featuresSection) observer.observe(featuresSection);
    var ctaSection = document.getElementById('cta-section');
    if (ctaSection) observer.observe(ctaSection);
  }

  // ==================== SOUND ====================
  function toggleSound() {
    soundEnabled = !soundEnabled;
    document.getElementById('sound-on-icon').classList.toggle('hidden', !soundEnabled);
    document.getElementById('sound-off-icon').classList.toggle('hidden', soundEnabled);
  }

  function playGunshot() {
    if (!soundEnabled) return;
    try {
      var AudioCtx = window.AudioContext || window.webkitAudioContext;
      var audioCtx = new AudioCtx();
      var duration = 0.15;
      var sampleRate = audioCtx.sampleRate;
      var buffer = audioCtx.createBuffer(1, sampleRate * duration, sampleRate);
      var data = buffer.getChannelData(0);
      for (var i = 0; i < data.length; i++) {
        var t = i / sampleRate;
        var envelope = Math.exp(-t * 40);
        var noise = Math.random() * 2 - 1;
        data[i] = noise * envelope * 0.7;
      }
      var source = audioCtx.createBufferSource();
      source.buffer = buffer;
      var filter = audioCtx.createBiquadFilter();
      filter.type = 'lowpass';
      filter.frequency.value = 2000;
      source.connect(filter);
      filter.connect(audioCtx.destination);
      source.start();
    } catch(e) {}
  }

  // ==================== JOIN CLICK ====================
  function handleJoinClick() {
    playGunshot();
    // Flash
    var flash = document.createElement('div');
    flash.className = 'flash-overlay';
    document.body.appendChild(flash);
    setTimeout(function() { flash.remove(); }, 300);
    // Navigate
    setTimeout(function() { showJoinPage(); }, 400);
  }

  // ==================== SHOW JOIN PAGE ====================
  function showJoinPage() {
    var home = document.getElementById('home-page');
    home.style.opacity = '0';
    setTimeout(function() {
      home.classList.add('hidden');
      var join = document.getElementById('join-page');
      join.classList.remove('hidden');
      join.classList.add('cinema-enter');
      setTimeout(function() { join.style.opacity = '1'; }, 50);
      createParticles('join-particles', 20);
      animateJoinPage();
    }, 700);
  }

  // ==================== JOIN PAGE ANIMATION ====================
  function animateJoinPage() {
    setTimeout(function() {
      // Show icons
      document.getElementById('join-rings').style.display = 'block';
      var icons = document.querySelectorAll('.join-icon');
      icons.forEach(function(icon, i) {
        var opacityVal = (i === 2) ? '0.5' : '0.3';
        setTimeout(function() { icon.style.opacity = opacityVal; }, i * 80);
      });
      // Title
      var title = document.getElementById('join-title');
      title.style.opacity = '1';
      title.style.transform = 'translateY(0)';
    }, 600);

    setTimeout(function() {
      var div = document.getElementById('join-divider');
      div.style.width = '192px';
      div.style.opacity = '1';
      var sub = document.getElementById('join-subtitle');
      sub.style.opacity = '1';
      sub.style.transform = 'translateY(0)';
    }, 1200);

    setTimeout(function() {
      var btn = document.getElementById('join-tg-btn');
      btn.style.opacity = '1';
      btn.style.transform = 'translateY(0) scale(1)';
      var info = document.getElementById('join-info');
      info.style.opacity = '0.3';
    }, 1800);
  }

  // ==================== GO BACK ====================
  function goBackToHome() {
    var join = document.getElementById('join-page');
    join.style.opacity = '0';
    setTimeout(function() {
      join.classList.add('hidden');
      join.classList.remove('cinema-enter');
      // Reset join page state
      document.getElementById('join-rings').style.display = 'none';
      document.querySelectorAll('.join-icon').forEach(function(i) { i.style.opacity = '0'; });
      document.getElementById('join-title').style.opacity = '0';
      document.getElementById('join-title').style.transform = 'translateY(32px)';
      document.getElementById('join-divider').style.width = '0';
      document.getElementById('join-divider').style.opacity = '0';
      document.getElementById('join-subtitle').style.opacity = '0';
      document.getElementById('join-subtitle').style.transform = 'translateY(24px)';
      document.getElementById('join-tg-btn').style.opacity = '0';
      document.getElementById('join-tg-btn').style.transform = 'translateY(32px) scale(0.95)';
      document.getElementById('join-info').style.opacity = '0';
      // Remove particles
      document.getElementById('join-particles').innerHTML = '';
      // Show home
      var home = document.getElementById('home-page');
      home.classList.remove('hidden');
      setTimeout(function() { home.style.opacity = '1'; }, 50);
    }, 700);
  }
</script>
</body>
</html>
